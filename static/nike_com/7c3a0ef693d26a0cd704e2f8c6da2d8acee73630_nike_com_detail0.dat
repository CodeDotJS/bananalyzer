{"campaign_status":200,"html":"<style>.at-minibag-threshold {\n    margin: 24px 6px 0;\n    font-weight: bold;\n    font-size: 15px;\n}\n\n.at-minibag-threshold a {\n    font-weight: bold;\n    font-family: inherit;\n    text-decoration: underline;\n}\n\n.at-minibag-threshold a:hover {\n    text-decoration: none;\n}\n\n@media (max-width: 767px) {\n    .at-minibag-threshold {\n        font-size: 14px;\n    }\n}</style><span hidden></span><script>(() => {\n    try {\n        const messages = {\n            loggedIn: 'Members get free shipping on orders $50+.',\n            loggedOut: 'Members get free shipping on orders $50+. <br />Join Us or Sign-in.',\n        };\n\n        const checkClass = 'at-minibag-visited';\n        const elementReady = (selector, root) => {\n            const _root = root || document.body;\n            let result;\n            return new Promise((resolve, reject) => {\n                result = _root.querySelectorAll(selector);\n                if (result && result.length > 0) {\n                    resolve(result);\n                    return void 0;\n                }\n                new MutationObserver((mutationRecords, observer) => {\n                    result = _root.querySelectorAll(selector);\n                    if (result && result.length > 0) {\n                        resolve(result);\n                        observer.disconnect();\n                    }\n                }).observe(_root, {\n                    childList: true,\n                    subtree: true\n                });\n            });\n        };\n\n        function prepMessage() {\n\n            elementReady(`#modal-root [data-test=\"qa-cart-view\"]:not(.${checkClass}`, document.body).then(elements => {\n\n                if (elements && elements.length > 0) {\n                    const tgtElement = elements[0];\n                    tgtElement.classList.add(checkClass);\n                    const message = document.createElement('p');\n                    message.setAttribute('aria-hidden', 'true');\n                    message.classList.add('at-minibag-threshold');\n                    tgtElement.parentElement.insertAdjacentElement('afterend', message);\n\n                    webShellClient.identity.getIsLoggedIn().then(loggedIn => {\n                        if (loggedIn) {\n                            message.innerHTML = messages.loggedIn;\n                        } else {\n                            message.innerHTML = messages.loggedOut;\n                        }\n                    });\n                    setTimeout(prepMessage, 3000);\n                }\n\n            });\n        };\n\n        prepMessage();\n\n    } catch (e) {\n        if (window.newrelic) {\n            if (window.newrelic) {\n                window.newrelic.addPageAction('Bluecore Campaign Error', {\n                    campaign: 'Minibag Shipping Threshold',\n                    error: e.toString(),\n                });\n            }\n        }\n    }\n})();</script>","template_type":"inline","device_type":"desktop"}